!function(e){function t(t){for(var r,u,l=t[0],s=t[1],i=t[2],d=0,f=[];d<l.length;d++)u=l[d],a[u]&&f.push(a[u][0]),a[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={0:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var c=s;o.push([151,1]),n()}({151:function(e,t,n){e.exports=n(152)},152:function(e,t,n){"use strict";var r=i(n(1)),a=n(7),o=n(145),u=i(n(166)),l=i(n(189)),s=i(n(193));function i(e){return e&&e.__esModule?e:{default:e}}(0,a.render)(r.default.createElement(o.HashRouter,null,r.default.createElement(o.Switch,null,r.default.createElement(o.Redirect,{exact:!0,from:"/",to:"/arrivals"}),r.default.createElement(o.Route,{exact:!0,path:"/arrivals",component:u.default}),r.default.createElement(o.Route,{exact:!0,path:"/arrivals/:stopId",component:l.default}),r.default.createElement(o.Route,{path:"*",component:s.default}))),document.getElementById("app"))},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(13)),u=l(n(185));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userLocation:{latitude:0,longitude:0},stops:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t),e.fetchStops(t.coords);var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e.setState({userLocation:n})})}},{key:"fetchStops",value:function(e){var t=this,n=e.latitude,r="ll="+e.longitude+","+n;(0,o.default)({method:"GET",url:"https://developer.trimet.org/ws/V1/stops?"+r+"&feet=1320&json=true&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(e){console.log(e),t.setState({stops:e.data.resultSet.location})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return a.default.createElement(a.default.Fragment,null,this.state.stops.map(function(t){return a.default.createElement(u.default,{key:t.locid,stop:t,userLocation:e.state.userLocation})}))}}]),t}();t.default=s},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]),a=d(["\n    margin-top: 20px;\n"],["\n    margin-top: 20px;\n"]),o=c(n(1)),u=c(n(6)),l=n(145),s=n(187),i=n(188);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.stop,n=e.userLocation,r="/arrivals/"+t.locid,a={latitude:t.lat,longitude:t.lng},u=Math.trunc((0,s.flatEarthDistance)(n,a)),l=(0,i.flatEarthNamedBearing)(n,{latitude:t.lat,longitude:t.lng});return o.default.createElement(f,{to:r},o.default.createElement(j,null,o.default.createElement("h2",null,"#",t.locid,", ",t.desc,", ",t.dir),o.default.createElement("div",null,"distance: ",u,"m"),o.default.createElement("div",null,"bearing: ",l)))};var f=(0,u.default)(l.Link)(r),j=u.default.div(a)},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthDistance=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),a=n(21);t.flatEarthDistance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),o=(0,a.pairToRadians)(t),u=Math.cos(o.latitude),l=o.longitude-n.longitude,s=r.default*l*u,i=o.latitude-n.latitude,c=r.default*i;return Math.sqrt(s*s+c*c)}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthNamedBearing=t.flatEarthBearingDegreesHeading=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),a=n(21);var o=t.flatEarthBearingDegreesHeading=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.toDegrees)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),o=(0,a.pairToRadians)(t),u=Math.cos(o.latitude),l=o.longitude-n.longitude,s=r.default*l*u,i=o.latitude-n.latitude,c=r.default*i;return console.log("east west",s),console.log("north south",c),console.log(s/c),Math.atan2(c,s)}(e,t));return n>0?360-(n-90):-1*n+90};t.flatEarthNamedBearing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude};return function(e){switch(!0){case e<22.5||e>337.5:return"n";case e>22.5&&e<67.5:return"ne";case e>67.5&&e<112.5:return"e";case e>112.5&&e<157.5:return"se";case e>157.5&&e<202.5:return"s";case e>202.5&&e<247.5:return"sw";case e>247.5&&e<292.5:return"w";case e>292.5&&e<337.5:return"nw";default:throw new Error("something has gone horribly wrong with the degrees: "+e+" ")}}(o(e,t))}},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-bottom: 15px;\n"],["\n    margin-bottom: 15px;\n"]),o=i(n(1)),u=i(n(13)),l=i(n(6)),s=i(n(190));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={nextArrivals:[],location:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.stopId;(0,u.default)({method:"GET",url:"https://developer.trimet.org/ws/v2/arrivals?locIDs="+t+"&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(t){console.log(t),e.setState({nextArrivals:t.data.resultSet.arrival,location:t.data.resultSet.location[0]})})}},{key:"render",value:function(){var e=this,t=this.state.location;return o.default.createElement(d,null,o.default.createElement("h1",null,"#",t.id,", ",t.desc,", ",t.dir),this.state.nextArrivals.map(function(t){return o.default.createElement(s.default,{key:t.tripID,location:e.state.location,arrival:t})}))}}]),t}();t.default=c;var d=l.default.div(a)},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(["\n    margin-top: 10px;\n"],["\n    margin-top: 10px;\n"]),a=i(["\n    font-style: italic;\n    margin-top: -52px;\n"],["\n    font-style: italic;\n    margin-top: -52px;\n"]),o=s(n(1)),u=s(n(6)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.arrival,n=(0,l.default)(t.scheduled),r=(0,l.default)(t.estimated);return o.default.createElement(c,null,o.default.createElement("h2",null,"Route: ",t.route,", ",r.fromNow()," at ",r.format("LT")),o.default.createElement(d,null,"scheduled: ",n.fromNow()," at ",n.format("LT")))};var c=u.default.div(r),d=u.default.div(a)},192:function(e,t,n){var r={"./af":22,"./af.js":22,"./ar":23,"./ar-dz":24,"./ar-dz.js":24,"./ar-kw":25,"./ar-kw.js":25,"./ar-ly":26,"./ar-ly.js":26,"./ar-ma":27,"./ar-ma.js":27,"./ar-sa":28,"./ar-sa.js":28,"./ar-tn":29,"./ar-tn.js":29,"./ar.js":23,"./az":30,"./az.js":30,"./be":31,"./be.js":31,"./bg":32,"./bg.js":32,"./bm":33,"./bm.js":33,"./bn":34,"./bn.js":34,"./bo":35,"./bo.js":35,"./br":36,"./br.js":36,"./bs":37,"./bs.js":37,"./ca":38,"./ca.js":38,"./cs":39,"./cs.js":39,"./cv":40,"./cv.js":40,"./cy":41,"./cy.js":41,"./da":42,"./da.js":42,"./de":43,"./de-at":44,"./de-at.js":44,"./de-ch":45,"./de-ch.js":45,"./de.js":43,"./dv":46,"./dv.js":46,"./el":47,"./el.js":47,"./en-au":48,"./en-au.js":48,"./en-ca":49,"./en-ca.js":49,"./en-gb":50,"./en-gb.js":50,"./en-ie":51,"./en-ie.js":51,"./en-il":52,"./en-il.js":52,"./en-nz":53,"./en-nz.js":53,"./eo":54,"./eo.js":54,"./es":55,"./es-do":56,"./es-do.js":56,"./es-us":57,"./es-us.js":57,"./es.js":55,"./et":58,"./et.js":58,"./eu":59,"./eu.js":59,"./fa":60,"./fa.js":60,"./fi":61,"./fi.js":61,"./fo":62,"./fo.js":62,"./fr":63,"./fr-ca":64,"./fr-ca.js":64,"./fr-ch":65,"./fr-ch.js":65,"./fr.js":63,"./fy":66,"./fy.js":66,"./gd":67,"./gd.js":67,"./gl":68,"./gl.js":68,"./gom-latn":69,"./gom-latn.js":69,"./gu":70,"./gu.js":70,"./he":71,"./he.js":71,"./hi":72,"./hi.js":72,"./hr":73,"./hr.js":73,"./hu":74,"./hu.js":74,"./hy-am":75,"./hy-am.js":75,"./id":76,"./id.js":76,"./is":77,"./is.js":77,"./it":78,"./it.js":78,"./ja":79,"./ja.js":79,"./jv":80,"./jv.js":80,"./ka":81,"./ka.js":81,"./kk":82,"./kk.js":82,"./km":83,"./km.js":83,"./kn":84,"./kn.js":84,"./ko":85,"./ko.js":85,"./ky":86,"./ky.js":86,"./lb":87,"./lb.js":87,"./lo":88,"./lo.js":88,"./lt":89,"./lt.js":89,"./lv":90,"./lv.js":90,"./me":91,"./me.js":91,"./mi":92,"./mi.js":92,"./mk":93,"./mk.js":93,"./ml":94,"./ml.js":94,"./mn":95,"./mn.js":95,"./mr":96,"./mr.js":96,"./ms":97,"./ms-my":98,"./ms-my.js":98,"./ms.js":97,"./mt":99,"./mt.js":99,"./my":100,"./my.js":100,"./nb":101,"./nb.js":101,"./ne":102,"./ne.js":102,"./nl":103,"./nl-be":104,"./nl-be.js":104,"./nl.js":103,"./nn":105,"./nn.js":105,"./pa-in":106,"./pa-in.js":106,"./pl":107,"./pl.js":107,"./pt":108,"./pt-br":109,"./pt-br.js":109,"./pt.js":108,"./ro":110,"./ro.js":110,"./ru":111,"./ru.js":111,"./sd":112,"./sd.js":112,"./se":113,"./se.js":113,"./si":114,"./si.js":114,"./sk":115,"./sk.js":115,"./sl":116,"./sl.js":116,"./sq":117,"./sq.js":117,"./sr":118,"./sr-cyrl":119,"./sr-cyrl.js":119,"./sr.js":118,"./ss":120,"./ss.js":120,"./sv":121,"./sv.js":121,"./sw":122,"./sw.js":122,"./ta":123,"./ta.js":123,"./te":124,"./te.js":124,"./tet":125,"./tet.js":125,"./tg":126,"./tg.js":126,"./th":127,"./th.js":127,"./tl-ph":128,"./tl-ph.js":128,"./tlh":129,"./tlh.js":129,"./tr":130,"./tr.js":130,"./tzl":131,"./tzl.js":131,"./tzm":132,"./tzm-latn":133,"./tzm-latn.js":133,"./tzm.js":132,"./ug-cn":134,"./ug-cn.js":134,"./uk":135,"./uk.js":135,"./ur":136,"./ur.js":136,"./uz":137,"./uz-latn":138,"./uz-latn.js":138,"./uz.js":137,"./vi":139,"./vi.js":139,"./x-pseudo":140,"./x-pseudo.js":140,"./yo":141,"./yo.js":141,"./zh-cn":142,"./zh-cn.js":142,"./zh-hk":143,"./zh-hk.js":143,"./zh-tw":144,"./zh-tw.js":144};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=192},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return r.default.createElement("h1",null,"BIRB!")}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=6371e3},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e*Math.PI/180};t.pairToRadians=function(e){var t=e.latitude,n=e.longitude;return{latitude:r(t),longitude:r(n)}},t.toDegrees=function(e){return 180*e/Math.PI}}});