!function(e){function t(t){for(var r,u,l=t[0],s=t[1],i=t[2],d=0,f=[];d<l.length;d++)u=l[d],a[u]&&f.push(a[u][0]),a[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={0:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var c=s;o.push([153,1]),n()}({153:function(e,t,n){e.exports=n(154)},154:function(e,t,n){"use strict";var r=i(n(1)),a=n(7),o=n(147),u=i(n(168)),l=i(n(190)),s=i(n(194));function i(e){return e&&e.__esModule?e:{default:e}}(0,a.render)(r.default.createElement(o.HashRouter,null,r.default.createElement(o.Switch,null,r.default.createElement(o.Redirect,{exact:!0,from:"/",to:"/arrivals"}),r.default.createElement(o.Route,{exact:!0,path:"/arrivals",component:u.default}),r.default.createElement(o.Route,{exact:!0,path:"/arrivals/:stopId",component:l.default}),r.default.createElement(o.Route,{path:"*",component:s.default}))),document.getElementById("app"))},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(13)),u=l(n(187));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userLocation:{latitude:0,longitude:0},stops:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t),e.fetchStops({latitude:t.coords.latitude,longitude:t.coords.longitude,distance:2640});var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e.setState({userLocation:n})})}},{key:"fetchStops",value:function(e){var t=this,n=e.latitude,r=e.longitude,a=e.distance,u="ll="+r+","+n;(0,o.default)({method:"GET",url:"https://developer.trimet.org/ws/V1/stops?"+u+"&feet="+a+"&json=true&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(e){console.log(e),t.setState({stops:e.data.resultSet.location})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return a.default.createElement(a.default.Fragment,null,this.state.stops.map(function(t){return a.default.createElement(u.default,{key:t.locid,stop:t,userLocation:e.state.userLocation})}))}}]),t}();t.default=s},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]),a=f(["\n    margin-top: 20px;\n"],["\n    margin-top: 20px;\n"]),o=d(n(1)),u=d(n(6)),l=n(147),s=n(20),i=n(189),c=n(23);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.stop,n=e.userLocation,r="/arrivals/"+t.locid,a={latitude:t.lat,longitude:t.lng},u=Math.trunc((0,s.flatEarthDistance)(n,a)),l=(0,i.flatEarthNamedBearing)(n,{latitude:t.lat,longitude:t.lng});return o.default.createElement(j,{to:r},o.default.createElement(p,null,o.default.createElement("h2",null,"#",t.locid,", ",t.desc,", ",t.dir),o.default.createElement("div",null,"distance: ",u,"m, about a ",(0,c.walkingTimeEstimator)(u)," minute walk"),o.default.createElement("div",null,"bearing: ",l)))};var j=(0,u.default)(l.Link)(r),p=u.default.div(a)},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthNamedBearing=t.flatEarthBearingDegreesHeading=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21)),a=n(22);var o=t.flatEarthBearingDegreesHeading=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.toDegrees)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),o=(0,a.pairToRadians)(t),u=Math.cos(o.latitude),l=o.longitude-n.longitude,s=r.default*l*u,i=o.latitude-n.latitude,c=r.default*i;return console.log("east west",s),console.log("north south",c),console.log(s/c),Math.atan2(c,s)}(e,t));return n>0?360-(n-90):-1*n+90};t.flatEarthNamedBearing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude};return function(e){switch(!0){case e<22.5||e>337.5:return"n";case e>22.5&&e<67.5:return"ne";case e>67.5&&e<112.5:return"e";case e>112.5&&e<157.5:return"se";case e>157.5&&e<202.5:return"s";case e>202.5&&e<247.5:return"sw";case e>247.5&&e<292.5:return"w";case e>292.5&&e<337.5:return"nw";default:throw new Error("something has gone horribly wrong with the degrees: "+e+" ")}}(o(e,t))}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-bottom: 15px;\n"],["\n    margin-bottom: 15px;\n"]),o=d(n(1)),u=d(n(13)),l=d(n(6)),s=d(n(191)),i=n(20),c=n(23);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={nextArrivals:[],stopLocation:{},userLocation:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.stopId;navigator.geolocation.getCurrentPosition(function(t){var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e.setState({userLocation:n})}),(0,u.default)({method:"GET",url:"https://developer.trimet.org/ws/v2/arrivals?locIDs="+t+"&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(t){console.log(t),e.setState({nextArrivals:t.data.resultSet.arrival,stopLocation:t.data.resultSet.location[0]})})}},{key:"render",value:function(){var e=this,t=this.state.stopLocation,n=this.state.userLocation,r=Math.trunc((0,i.flatEarthDistance)(n,{latitude:t.lat,longitude:t.lng}));return o.default.createElement(j,null,o.default.createElement("h1",null,"#",t.id,", ",t.desc,", ",t.dir),o.default.createElement("div",null,"distance: ",r,"m, about a ",(0,c.walkingTimeEstimator)(r)," minute walk"),this.state.nextArrivals.map(function(t){return o.default.createElement(s.default,{key:t.tripID,location:e.state.stopLocation,arrival:t})}))}}]),t}();t.default=f;var j=l.default.div(a)},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(["\n    margin-top: 10px;\n"],["\n    margin-top: 10px;\n"]),a=i(["\n    font-style: italic;\n    margin-top: -42px;\n"],["\n    font-style: italic;\n    margin-top: -42px;\n"]),o=s(n(1)),u=s(n(6)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.arrival,n=(0,l.default)(t.scheduled),r=(0,l.default)(t.estimated);return o.default.createElement(c,null,o.default.createElement("h2",null,"Route: ",t.route,", ",r.fromNow()," at ",r.format("LT")),o.default.createElement(d,null,"scheduled: ",n.fromNow()," at ",n.format("LT")))};var c=u.default.div(r),d=u.default.div(a)},193:function(e,t,n){var r={"./af":24,"./af.js":24,"./ar":25,"./ar-dz":26,"./ar-dz.js":26,"./ar-kw":27,"./ar-kw.js":27,"./ar-ly":28,"./ar-ly.js":28,"./ar-ma":29,"./ar-ma.js":29,"./ar-sa":30,"./ar-sa.js":30,"./ar-tn":31,"./ar-tn.js":31,"./ar.js":25,"./az":32,"./az.js":32,"./be":33,"./be.js":33,"./bg":34,"./bg.js":34,"./bm":35,"./bm.js":35,"./bn":36,"./bn.js":36,"./bo":37,"./bo.js":37,"./br":38,"./br.js":38,"./bs":39,"./bs.js":39,"./ca":40,"./ca.js":40,"./cs":41,"./cs.js":41,"./cv":42,"./cv.js":42,"./cy":43,"./cy.js":43,"./da":44,"./da.js":44,"./de":45,"./de-at":46,"./de-at.js":46,"./de-ch":47,"./de-ch.js":47,"./de.js":45,"./dv":48,"./dv.js":48,"./el":49,"./el.js":49,"./en-au":50,"./en-au.js":50,"./en-ca":51,"./en-ca.js":51,"./en-gb":52,"./en-gb.js":52,"./en-ie":53,"./en-ie.js":53,"./en-il":54,"./en-il.js":54,"./en-nz":55,"./en-nz.js":55,"./eo":56,"./eo.js":56,"./es":57,"./es-do":58,"./es-do.js":58,"./es-us":59,"./es-us.js":59,"./es.js":57,"./et":60,"./et.js":60,"./eu":61,"./eu.js":61,"./fa":62,"./fa.js":62,"./fi":63,"./fi.js":63,"./fo":64,"./fo.js":64,"./fr":65,"./fr-ca":66,"./fr-ca.js":66,"./fr-ch":67,"./fr-ch.js":67,"./fr.js":65,"./fy":68,"./fy.js":68,"./gd":69,"./gd.js":69,"./gl":70,"./gl.js":70,"./gom-latn":71,"./gom-latn.js":71,"./gu":72,"./gu.js":72,"./he":73,"./he.js":73,"./hi":74,"./hi.js":74,"./hr":75,"./hr.js":75,"./hu":76,"./hu.js":76,"./hy-am":77,"./hy-am.js":77,"./id":78,"./id.js":78,"./is":79,"./is.js":79,"./it":80,"./it.js":80,"./ja":81,"./ja.js":81,"./jv":82,"./jv.js":82,"./ka":83,"./ka.js":83,"./kk":84,"./kk.js":84,"./km":85,"./km.js":85,"./kn":86,"./kn.js":86,"./ko":87,"./ko.js":87,"./ky":88,"./ky.js":88,"./lb":89,"./lb.js":89,"./lo":90,"./lo.js":90,"./lt":91,"./lt.js":91,"./lv":92,"./lv.js":92,"./me":93,"./me.js":93,"./mi":94,"./mi.js":94,"./mk":95,"./mk.js":95,"./ml":96,"./ml.js":96,"./mn":97,"./mn.js":97,"./mr":98,"./mr.js":98,"./ms":99,"./ms-my":100,"./ms-my.js":100,"./ms.js":99,"./mt":101,"./mt.js":101,"./my":102,"./my.js":102,"./nb":103,"./nb.js":103,"./ne":104,"./ne.js":104,"./nl":105,"./nl-be":106,"./nl-be.js":106,"./nl.js":105,"./nn":107,"./nn.js":107,"./pa-in":108,"./pa-in.js":108,"./pl":109,"./pl.js":109,"./pt":110,"./pt-br":111,"./pt-br.js":111,"./pt.js":110,"./ro":112,"./ro.js":112,"./ru":113,"./ru.js":113,"./sd":114,"./sd.js":114,"./se":115,"./se.js":115,"./si":116,"./si.js":116,"./sk":117,"./sk.js":117,"./sl":118,"./sl.js":118,"./sq":119,"./sq.js":119,"./sr":120,"./sr-cyrl":121,"./sr-cyrl.js":121,"./sr.js":120,"./ss":122,"./ss.js":122,"./sv":123,"./sv.js":123,"./sw":124,"./sw.js":124,"./ta":125,"./ta.js":125,"./te":126,"./te.js":126,"./tet":127,"./tet.js":127,"./tg":128,"./tg.js":128,"./th":129,"./th.js":129,"./tl-ph":130,"./tl-ph.js":130,"./tlh":131,"./tlh.js":131,"./tr":132,"./tr.js":132,"./tzl":133,"./tzl.js":133,"./tzm":134,"./tzm-latn":135,"./tzm-latn.js":135,"./tzm.js":134,"./ug-cn":136,"./ug-cn.js":136,"./uk":137,"./uk.js":137,"./ur":138,"./ur.js":138,"./uz":139,"./uz-latn":140,"./uz-latn.js":140,"./uz.js":139,"./vi":141,"./vi.js":141,"./x-pseudo":142,"./x-pseudo.js":142,"./yo":143,"./yo.js":143,"./zh-cn":144,"./zh-cn.js":144,"./zh-hk":145,"./zh-hk.js":145,"./zh-tw":146,"./zh-tw.js":146};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=193},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return r.default.createElement("h1",null,"BIRB!")}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthDistance=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21)),a=n(22);t.flatEarthDistance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),o=(0,a.pairToRadians)(t),u=Math.cos(o.latitude),l=o.longitude-n.longitude,s=r.default*l*u,i=o.latitude-n.latitude,c=r.default*i;return Math.sqrt(s*s+c*c)}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=6371e3},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e*Math.PI/180};t.pairToRadians=function(e){var t=e.latitude,n=e.longitude;return{latitude:r(t),longitude:r(n)}},t.toDegrees=function(e){return 180*e/Math.PI}},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walkingTimeEstimator=function(e){return Math.round(e/r/60)};var r=1.4}});