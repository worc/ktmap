!function(e){function t(t){for(var r,o,l=t[0],s=t[1],i=t[2],c=0,f=[];c<l.length;c++)o=l[c],a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);f.length;)f.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(u.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},u=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var d=s;u.push([152,1]),n()}({152:function(e,t,n){e.exports=n(153)},153:function(e,t,n){"use strict";var r=i(n(1)),a=n(7),u=n(146),o=i(n(166)),l=i(n(189)),s=i(n(193));function i(e){return e&&e.__esModule?e:{default:e}}(0,a.render)(r.default.createElement(u.HashRouter,null,r.default.createElement(u.Switch,null,r.default.createElement(u.Redirect,{exact:!0,from:"/",to:"/arrivals"}),r.default.createElement(u.Route,{exact:!0,path:"/arrivals",component:o.default}),r.default.createElement(u.Route,{exact:!0,path:"/arrivals/:stopId",render:function(e){return r.default.createElement(l.default,{stopId:e.match.params.stopId})}}),r.default.createElement(u.Route,{path:"*",component:s.default}))),document.getElementById("app"))},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),u=l(n(14)),o=l(n(185));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userLocation:{latitude:0,longitude:0},stops:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t),e.fetchStops(t.coords);var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e.setState({userLocation:n})})}},{key:"fetchStops",value:function(e){var t=this,n=e.latitude,r="ll="+e.longitude+","+n;(0,u.default)({method:"GET",url:"https://developer.trimet.org/ws/V1/stops?"+r+"&feet=1320&json=true&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(e){console.log(e),t.setState({stops:e.data.resultSet.location})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return a.default.createElement(a.default.Fragment,null,this.state.stops.map(function(t){return a.default.createElement(o.default,{key:t.locid,stop:t,userLocation:e.state.userLocation})}))}}]),t}();t.default=s},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]),a=c(["\n    margin-top: 20px;\n"],["\n    margin-top: 20px;\n"]),u=d(n(1)),o=d(n(6)),l=n(146),s=n(187),i=n(188);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.stop,n=e.userLocation,r="/arrivals/"+t.locid,a={latitude:t.lat,longitude:t.lng},o=Math.trunc((0,s.flatEarthDistance)(n,a)),l=(0,i.flatEarthNamedBearing)(n,{latitude:t.lat,longitude:t.lng});return u.default.createElement(f,{to:r},u.default.createElement(j,null,u.default.createElement("h2",null,"#",t.locid,", ",t.desc,", ",t.dir),u.default.createElement("div",null,"distance: ",o,"m"),u.default.createElement("div",null,"bearing: ",l)))};var f=(0,o.default)(l.Link)(r),j=o.default.div(a)},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthDistance=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21)),a=n(22);t.flatEarthDistance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),u=(0,a.pairToRadians)(t),o=Math.cos(u.latitude),l=u.longitude-n.longitude,s=r.default*l*o,i=u.latitude-n.latitude,d=r.default*i;return Math.sqrt(s*s+d*d)}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatEarthNamedBearing=t.flatEarthBearingDegreesHeading=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(21)),a=n(22);var u=t.flatEarthBearingDegreesHeading=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.toDegrees)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude},n=(0,a.pairToRadians)(e),u=(0,a.pairToRadians)(t),o=Math.cos(u.latitude),l=u.longitude-n.longitude,s=r.default*l*o,i=u.latitude-n.latitude,d=r.default*i;return console.log("east west",s),console.log("north south",d),console.log(s/d),Math.atan2(d,s)}(e,t));return n>0?360-(n-90):-1*n+90};t.flatEarthNamedBearing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:latitude,longitude:longitude},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{latitude:latitude,longitude:longitude};return function(e){switch(!0){case e<22.5||e>337.5:return"n";case e>22.5&&e<67.5:return"ne";case e>67.5&&e<112.5:return"e";case e>112.5&&e<157.5:return"se";case e>157.5&&e<202.5:return"s";case e>202.5&&e<247.5:return"sw";case e>247.5&&e<292.5:return"w";case e>292.5&&e<337.5:return"nw";default:throw new Error("something has gone horribly wrong with the degrees: "+e+" ")}}(u(e,t))}},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,u=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,u=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-bottom: 15px;\n"],["\n    margin-bottom: 15px;\n"]),u=n(1),o=d(u),l=d(n(14)),s=d(n(6)),i=d(n(190));function d(e){return e&&e.__esModule?e:{default:e}}var c=s.default.div(a);t.default=function(e){var t=e.stopId,n=(0,u.useState)([]),a=r(n,2),s=a[0],d=a[1],f=(0,u.useState)({}),j=r(f,2),p=j[0],v=j[1];return(0,u.useEffect)(function(){var e=setInterval(function(){(0,l.default)({method:"GET",url:"https://developer.trimet.org/ws/v2/arrivals?locIDs="+t+"&appId=5C3A497B4A51A9E15E3D97D4A"}).then(function(e){d(e.data.resultSet.arrival),v(e.data.resultSet.location[0])})},3e4);return clearInterval(e)},[]),o.default.createElement(c,null,o.default.createElement("h1",null,"#",p.id,", ",p.desc,", ",p.dir),s.map(function(e){return o.default.createElement(i.default,{key:e.tripID,location:p,arrival:e})}))}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(["\n    margin-top: 10px;\n"],["\n    margin-top: 10px;\n"]),a=i(["\n    font-style: italic;\n    margin-top: -42px;\n"],["\n    font-style: italic;\n    margin-top: -42px;\n"]),u=s(n(1)),o=s(n(6)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.default=function(e){var t=e.arrival,n=(0,l.default)(t.scheduled),r=(0,l.default)(t.estimated);return u.default.createElement(d,null,u.default.createElement("h2",null,"Route: ",t.route,", ",r.fromNow()," at ",r.format("LT")),u.default.createElement(c,null,"scheduled: ",n.fromNow()," at ",n.format("LT")))};var d=o.default.div(r),c=o.default.div(a)},192:function(e,t,n){var r={"./af":23,"./af.js":23,"./ar":24,"./ar-dz":25,"./ar-dz.js":25,"./ar-kw":26,"./ar-kw.js":26,"./ar-ly":27,"./ar-ly.js":27,"./ar-ma":28,"./ar-ma.js":28,"./ar-sa":29,"./ar-sa.js":29,"./ar-tn":30,"./ar-tn.js":30,"./ar.js":24,"./az":31,"./az.js":31,"./be":32,"./be.js":32,"./bg":33,"./bg.js":33,"./bm":34,"./bm.js":34,"./bn":35,"./bn.js":35,"./bo":36,"./bo.js":36,"./br":37,"./br.js":37,"./bs":38,"./bs.js":38,"./ca":39,"./ca.js":39,"./cs":40,"./cs.js":40,"./cv":41,"./cv.js":41,"./cy":42,"./cy.js":42,"./da":43,"./da.js":43,"./de":44,"./de-at":45,"./de-at.js":45,"./de-ch":46,"./de-ch.js":46,"./de.js":44,"./dv":47,"./dv.js":47,"./el":48,"./el.js":48,"./en-au":49,"./en-au.js":49,"./en-ca":50,"./en-ca.js":50,"./en-gb":51,"./en-gb.js":51,"./en-ie":52,"./en-ie.js":52,"./en-il":53,"./en-il.js":53,"./en-nz":54,"./en-nz.js":54,"./eo":55,"./eo.js":55,"./es":56,"./es-do":57,"./es-do.js":57,"./es-us":58,"./es-us.js":58,"./es.js":56,"./et":59,"./et.js":59,"./eu":60,"./eu.js":60,"./fa":61,"./fa.js":61,"./fi":62,"./fi.js":62,"./fo":63,"./fo.js":63,"./fr":64,"./fr-ca":65,"./fr-ca.js":65,"./fr-ch":66,"./fr-ch.js":66,"./fr.js":64,"./fy":67,"./fy.js":67,"./gd":68,"./gd.js":68,"./gl":69,"./gl.js":69,"./gom-latn":70,"./gom-latn.js":70,"./gu":71,"./gu.js":71,"./he":72,"./he.js":72,"./hi":73,"./hi.js":73,"./hr":74,"./hr.js":74,"./hu":75,"./hu.js":75,"./hy-am":76,"./hy-am.js":76,"./id":77,"./id.js":77,"./is":78,"./is.js":78,"./it":79,"./it.js":79,"./ja":80,"./ja.js":80,"./jv":81,"./jv.js":81,"./ka":82,"./ka.js":82,"./kk":83,"./kk.js":83,"./km":84,"./km.js":84,"./kn":85,"./kn.js":85,"./ko":86,"./ko.js":86,"./ky":87,"./ky.js":87,"./lb":88,"./lb.js":88,"./lo":89,"./lo.js":89,"./lt":90,"./lt.js":90,"./lv":91,"./lv.js":91,"./me":92,"./me.js":92,"./mi":93,"./mi.js":93,"./mk":94,"./mk.js":94,"./ml":95,"./ml.js":95,"./mn":96,"./mn.js":96,"./mr":97,"./mr.js":97,"./ms":98,"./ms-my":99,"./ms-my.js":99,"./ms.js":98,"./mt":100,"./mt.js":100,"./my":101,"./my.js":101,"./nb":102,"./nb.js":102,"./ne":103,"./ne.js":103,"./nl":104,"./nl-be":105,"./nl-be.js":105,"./nl.js":104,"./nn":106,"./nn.js":106,"./pa-in":107,"./pa-in.js":107,"./pl":108,"./pl.js":108,"./pt":109,"./pt-br":110,"./pt-br.js":110,"./pt.js":109,"./ro":111,"./ro.js":111,"./ru":112,"./ru.js":112,"./sd":113,"./sd.js":113,"./se":114,"./se.js":114,"./si":115,"./si.js":115,"./sk":116,"./sk.js":116,"./sl":117,"./sl.js":117,"./sq":118,"./sq.js":118,"./sr":119,"./sr-cyrl":120,"./sr-cyrl.js":120,"./sr.js":119,"./ss":121,"./ss.js":121,"./sv":122,"./sv.js":122,"./sw":123,"./sw.js":123,"./ta":124,"./ta.js":124,"./te":125,"./te.js":125,"./tet":126,"./tet.js":126,"./tg":127,"./tg.js":127,"./th":128,"./th.js":128,"./tl-ph":129,"./tl-ph.js":129,"./tlh":130,"./tlh.js":130,"./tr":131,"./tr.js":131,"./tzl":132,"./tzl.js":132,"./tzm":133,"./tzm-latn":134,"./tzm-latn.js":134,"./tzm.js":133,"./ug-cn":135,"./ug-cn.js":135,"./uk":136,"./uk.js":136,"./ur":137,"./ur.js":137,"./uz":138,"./uz-latn":139,"./uz-latn.js":139,"./uz.js":138,"./vi":140,"./vi.js":140,"./x-pseudo":141,"./x-pseudo.js":141,"./yo":142,"./yo.js":142,"./zh-cn":143,"./zh-cn.js":143,"./zh-hk":144,"./zh-hk.js":144,"./zh-tw":145,"./zh-tw.js":145};function a(e){var t=u(e);return n(t)}function u(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=u,e.exports=a,a.id=192},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return r.default.createElement("h1",null,"BIRB!")}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=6371e3},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e*Math.PI/180};t.pairToRadians=function(e){var t=e.latitude,n=e.longitude;return{latitude:r(t),longitude:r(n)}},t.toDegrees=function(e){return 180*e/Math.PI}}});